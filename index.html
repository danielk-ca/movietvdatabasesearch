<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Movie & TV Database Search</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: white;
        color: black;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
    }

    h2 {
        margin-bottom: 30px;
    }

    .search-container {
        display: flex;
        align-items: center;
        background: #f2f2f2;
        border-radius: 25px;
        padding: 5px 10px;
        width: 100%;
        max-width: 500px;
        position: relative;
        margin-bottom: 40px;
    }

    .search-container input {
        flex: 1;
        border: none;
        background: transparent;
        color: black;
        font-size: 16px;
        padding: 10px;
        outline: none;
    }

    .icon-btn {
        background: none;
        border: none;
        cursor: pointer;
        padding: 5px;
        display: flex;
        align-items: center;
    }

    .icon-btn svg {
        width: 20px;
        height: 20px;
        fill: black;
    }

    .clear-btn {
        position: absolute;
        right: 40px;
    }

    .collapsible {
        background: #f9f9f9;
        margin-top: 15px;
        border-radius: 8px;
        overflow: hidden;
        width: 100%;
        max-width: 500px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        transition: box-shadow 0.2s ease;
    }

    .collapsible:hover {
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    .collapsible button {
        width: 100%;
        background: none;
        border: none;
        padding: 15px;
        font-size: 16px;
        cursor: pointer;
        color: black;
        text-align: center;
        font-weight: bold;
    }

    .collapsible button:hover {
        background: #ececec;
    }

    .content {
        display: none;
        padding: 10px 15px;
        background: #ffffff;
        text-align: center;
    }

    .content a {
        color: #0066cc;
        text-decoration: none;
    }

    .content a:hover {
        text-decoration: underline;
    }
</style>
</head>
<body>

<h2>Movie & TV Database Search</h2>

<div class="search-container">
    <input type="text" id="searchInput" placeholder="Search movies or TV shows...">
    <button class="icon-btn clear-btn" id="clearBtn" title="Clear">
        <!-- X SVG -->
        <svg viewBox="0 0 24 24">
            <path d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 1 0 0 0 0-1.4z"/>
        </svg>
    </button>
    <button class="icon-btn" id="searchBtn" title="Search">
        <!-- Search Icon SVG -->
        <svg viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 
            6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 
            4.99L20.49 19l-4.99-5zm-6 0C8.01 14 6 11.99 
            6 9.5S8.01 5 10.5 5 15 7.01 15 
            9.5 12.99 14 10.5 14z"/>
        </svg>
    </button>
</div>

<div id="results" style="display:none;">
    <div class="collapsible">
        <button>IMDb</button>
        <div class="content">
            <a id="imdbLink" href="#" target="_blank">Open IMDb Search</a>
        </div>
    </div>
    <div class="collapsible">
        <button>Apple TV US</button>
        <div class="content">
            <a id="appleLink" href="#" target="_blank">Open Apple TV US Search</a>
        </div>
    </div>
    <div class="collapsible">
        <button>Plex</button>
        <div class="content">
            <a id="plexLink" href="#" target="_blank">Open Plex Search</a>
        </div>
    </div>
    <div class="collapsible">
        <button>JustWatch Canada</button>
        <div class="content">
            <a id="jwCanadaLink" href="#" target="_blank">Open JustWatch Canada Search</a>
        </div>
    </div>
    <div class="collapsible">
        <button>JustWatch US</button>
        <div class="content">
            <a id="jwUSLink" href="#" target="_blank">Open JustWatch US Search</a>
        </div>
    </div>
</div>

<script>
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const clearBtn = document.getElementById('clearBtn');
    const resultsDiv = document.getElementById('results');

    const imdbLink = document.getElementById('imdbLink');
    const appleLink = document.getElementById('appleLink');
    const plexLink = document.getElementById('plexLink');
    const jwCanadaLink = document.getElementById('jwCanadaLink');
    const jwUSLink = document.getElementById('jwUSLink');

    function updateLinks() {
        const query = encodeURIComponent(searchInput.value.trim());
        if (!query) return;

        imdbLink.href = 'https://www.imdb.com/find/?q=' + query;
        appleLink.href = 'https://www.google.com/search?q=site:tv.apple.com/us/+' + query;
        plexLink.href = 'https://www.google.com/search?q=site:watch.plex.tv+' + query;
        jwCanadaLink.href = 'https://www.justwatch.com/ca/search?q=' + query;
        jwUSLink.href = 'https://www.justwatch.com/us/search?q=' + query;
    }

    function closeAllSections() {
        document.querySelectorAll('.content').forEach(content => {
            content.style.display = 'none';
        });
    }

    function performSearch() {
        if (!searchInput.value.trim()) return;
        updateLinks();
        resultsDiv.style.display = 'block';
        closeAllSections(); // Start with all sections closed
    }

    function clearSearch() {
        searchInput.value = '';
        resultsDiv.style.display = 'none';
        closeAllSections();
    }

    searchBtn.addEventListener('click', performSearch);
    searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            performSearch();
        }
    });

    clearBtn.addEventListener('click', clearSearch);

    // Collapsible toggle
    document.querySelectorAll('.collapsible button').forEach(btn => {
        btn.addEventListener('click', function() {
            const content = this.nextElementSibling;
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
        });
    });
</script>

</body>
</html>